МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ
Федеральное государственное автономное образовательное учреждение высшего образования
"КРЫМСКИЙ ФЕДЕРАЛЬНЫЙ УНИВЕРСИТЕТ им. В. И. ВЕРНАДСКОГО"
ФИЗИКО-ТЕХНИЧЕСКИЙ ИНСТИТУТ
Кафедра компьютерной инженерии и моделирования


Отчёт по лабораторной работе №1
по дисциплине "Программирование"


студента 1 курса группы ПИ-б-о-203
Киндрачук Натан Натанович
направления подготовки 09.03.04 "Программная Инженерия"



Научный руководитель
старший преподаватель кафедры
компьютерной инженерии и моделирования	(оценка)	Чабанов В.В.


Симферополь, 2020



Цель работы:
1. Закрепить навыки разработки многофайловыx приложений;
2. Изучить способы работы с API web-сервиса;
3. Изучить процесс сериализации/десериализации данных в/из json;
4. Получить базовое представление о сетевом взаимодействии приложений;
Ход работы:
1. Теоретическая часть
1.1 Структура http-запроса
Общая схема интернет ссылки сайта
[](image/Pic01.png)
Протокол: http, https, ftp и другие.
А) Хост: ip-адрес сервера. Обычно по одному ip-адресу находится несколько сайтов, в этом случае доменное имя используется сервером, чтобы выбрать правильного получателя запроса.
Б) Сетевой порт: число от 0 до 65535. Своеобразное расширения IP-адреса, нужен, чтобы несколько приложений на компьютере одновременно могли работать с сетью. Запрос приходит на IP-адрес, а дальше операционная система отдаёт его тому приложению, которое слушает порт, указанный в запросе. Несколько приложений не могут одновременно слушать один и тот же порт благодаря этому пакет Skype не попадёт к Discord и т.д. Обычно веб сервера слушают 80 и 443 порты. 80 - стандартный порт для http запросов, 443 - для https.
В) Путь к ресурсу: просто строка. Приложение получившее запрос само решает, как реагировать на эту строку. В простом случае путь к ресурсу может восприниматься как реальный путь к папке/файлу, где-то на серверном компьютере. В общем случае путь к ресурсу - это способ запустить какую-то функцию в приложении, получившем запрос. В результате, функция может как сгенерировать html-страничку и отправить в ответ на запрос, так и запустить процесс форматирования дисков на сервере, если у программы достаточно прав.
Г) query string: набор пар ключ-значение. Идёт после вопросительного знака, пары разделены одним амперсантом (&). Если путь к ресурсу воспринимать как функцию, то query string - это аргументы функции. Порядок пар значения не имеет, лишние пары обычно игнорируются.
Д) Якорь: служит, для того, чтобы промотать у клиента страницу к нужному элементу (заголовку, картинке и т.д.), поэтому данный параметр не попадает в запрос к серверу.


2. Практическая часть
2.1 Подготовка к работе с openweathermap.org
A) Я захожу на сайт openweather, регистрируею свой аккаунт а затем захожу в него.


Рис.1 сайт openweather.com
Б) Генерирую ключ API в соответственной вкладке сайта(Рис.2) и получаю файл в формате JSON, он создан с помощью моего сгенерированного ключа и выглядит таким образом (Рис.3)



Рис.2 пример генерации API ключа



Рис.3 Открытый в браузере файл JSON
Д) Дальше я составлю запрос на русском языке почасовой погоды градусами по фаренгейту в городе Симферополь с помощью



Рис.4 Файл JSON с заданными параметрами

2.2 Подготовка с работой с сервисом worldtimeapi.org
Запрашиваю текущее время в Симферополе


2.3 Подготовка серверного приложения
А) Я скопировал файл httplib.h bp репозитория библиотеки https://github.com/yhirose/cpp-httplib и вставил в свой созданный проект Visual Studio под названием «Lab1», переписав код из методического пособия, исправив пару ошибок, я запустил его(Рис.6)


Б)С запущенной на фоне программой я ввел в поисковик http://localhost:1234/, мне выдало надпись «Hello World!»(Рис.7), это означает что все проделанное мной было верно

2.4 Отправка Get запросов
A) Создаем еще один проект с аналогичными настройками как в предыдущем, и вписываем другой представленный код(Рис.8)


Б) При запуске нам выдает запрошенное время на текущий момент в симферополе(Рис.9)


В) Попробуем сделать тоже самое, но с погодой(Рис.10)


Вот результат(Рис.11)